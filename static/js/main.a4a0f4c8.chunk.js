(this["webpackJsonpreact-project"]=this["webpackJsonpreact-project"]||[]).push([[0],{30:function(e,a,t){e.exports=t(42)},35:function(e,a,t){},42:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(10),s=t.n(o),l=(t(35),t(22)),c=t(15),i=t(16),m=t(5),h=t(29),u=t(28),d=t(6),p=t.n(d),g=t(11),v=function(){function e(){Object(c.a)(this,e)}return Object(i.a)(e,[{key:"getPageProperty",value:function(){var e=Object(g.a)(p.a.mark((function e(a){var t=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://wakanda-cm.developerprogram.org/api/v1/revisionHistory/show?uuid="+a,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json","x-auth-token":window.localStorage.token}}).then((function(e){return e.ok||t.handleResponseError(e),e.json()})).catch((function(e){t.handleError(e)})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},{key:"validateToken",value:function(){var e=Object(g.a)(p.a.mark((function e(){var a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://wakanda-cm.developerprogram.org/api/v1/validate",{method:"GET",mode:"cors",headers:{"Content-Type":"application/json","x-auth-token":window.localStorage.token}}).then((function(e){return e.ok||a.handleResponseError(e),e.json()})).catch((function(e){a.handleError(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"refreshToken",value:function(){var e=Object(g.a)(p.a.mark((function e(){var a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://wakanda-cm.developerprogram.org/api/v1/accessToken",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json","refresh-token":window.localStorage.refreshToken}}).then((function(e){return e.ok||a.handleResponseError(e),e.json()})).catch((function(e){a.handleError(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(g.a)(p.a.mark((function e(a){var t=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://wakanda-cm.developerprogram.org/api/v1/login",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.ok||t.handleResponseError(e),e.json()})).catch((function(e){t.handleError(e)})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},{key:"pageProperty",value:function(){var e=Object(g.a)(p.a.mark((function e(){var a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://wakanda-cm.developerprogram.org/api/v1/channel/page/show?uuid=7c41b988-ba6f-4785-9750-6075e18a3c1c",{method:"GET",mode:"cors",headers:{"Content-Type":"application/json","x-auth-token":window.localStorage.token}}).then((function(e){return e.ok||a.handleResponseError(e),e.json()})).catch((function(e){a.handleError(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"updatePageProperty",value:function(){var e=Object(g.a)(p.a.mark((function e(a){var t=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://wakanda-cm.developerprogram.org/api/v1/channel/page/update",{method:"put",mode:"cors",headers:{"Content-Type":"application/json","x-auth-token":window.localStorage.token},body:JSON.stringify(a)}).then((function(e){return e.ok||t.handleResponseError(e),e.json()})).catch((function(e){t.handleError(e)})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},{key:"handleResponseError",value:function(e){throw new Error("HTTP error, status = "+e.status)}},{key:"handleError",value:function(e){console.log(e)}}]),e}(),w=t(45),f=(t(37),t(23)),E=t.n(f),b=function(e){Object(h.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).getRowsData=function(){var e=this.state.tableData,a=["date","time","username","property","oldValue","newValue"];return e.map((function(e,t){return e.date=E()(e.date).format("MMM-DD-YYYY"),r.a.createElement("tr",{key:t},r.a.createElement(k,{key:t,data:e,keys:a}))}))},n.itemService=new v,n.setShow=n.setShow.bind(Object(m.a)(n)),n.setShowTable=n.setShowTable.bind(Object(m.a)(n)),n.chackToken=n.chackToken.bind(Object(m.a)(n)),n.showPageProperty=n.showPageProperty.bind(Object(m.a)(n)),n.onPageOpen=n.onPageOpen.bind(Object(m.a)(n)),n.login=n.login.bind(Object(m.a)(n)),n.refreshToken=n.refreshToken.bind(Object(m.a)(n)),n.handleChange=n.handleChange.bind(Object(m.a)(n)),n.handleVirtualChange=n.handleVirtualChange.bind(Object(m.a)(n)),n.updatePageProperty=n.updatePageProperty.bind(Object(m.a)(n)),n.getRowsData=n.getRowsData.bind(Object(m.a)(n)),n.state={showDetails:!1,showLogin:!1,showError:!1,show:!1,showTable:!1,searchable:!1,virtual:!1,isVirtualPage:!1,open:!1,showVirtualPage:!1},n}return Object(i.a)(t,[{key:"handleChange",value:function(e){var a=e.target;this.setState(Object(l.a)({},a.name,a.value))}},{key:"handleVirtualChange",value:function(){this.state.isVirtualPage=!this.state.isVirtualPage,this.state.showVirtualPage=!1}},{key:"render",value:function(){var e=this.state.showDetails,a=this.state.showLogin,t=this.state.showError,n=this.state.show,o=this.state.showTable,s=this.state.open;this.state.showVirtualPage;return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"dpm-togglenav-section-area"},s&&r.a.createElement("div",{className:"dpm-nav-area"},r.a.createElement("div",{align:"center"},a&&r.a.createElement("form",{id:"login"},r.a.createElement("input",{type:"text",placeholder:"User Name",name:"Username",className:"dpm-input-field",value:this.state.username,onChange:this.handleChange}),r.a.createElement("input",{type:"password",placeholder:"Password",name:"Password",className:"dpm-input-field",value:this.state.password,onChange:this.handleChange}),r.a.createElement("button",{type:"button",className:"dpm-login-btn-area",onClick:this.login},"Log In")),e&&r.a.createElement("button",{type:"button",className:"dpm-login-btn-area",onClick:this.onPageOpen},"Page Property")),t&&r.a.createElement("span",{id:"logInError"}," Invalid username & password.")),r.a.createElement("div",{onClick:this.chackToken,className:"dpm-toggle-btn-area"},r.a.createElement("span",{className:"dpm-plus-icon-area"},"+"))),r.a.createElement(w.a,{show:n,onHide:this.setShow,dialogClassName:"modal-90w","aria-labelledby":"example-custom-modal-styling-title"},r.a.createElement(w.a.Header,{closeButton:!0},r.a.createElement(w.a.Title,{id:"example-custom-modal-styling-title"},"Page Properties")),r.a.createElement(w.a.Body,null,r.a.createElement("ul",{className:"nav mb-4"},r.a.createElement("li",{className:"nav-item m-1"},r.a.createElement("button",{type:"button",onClick:this.updatePageProperty,className:"dpm-login-btn-area",href:"#"},r.a.createElement("i",{className:"fa fa-save mr-1"}),"Save")),r.a.createElement("li",{className:"nav-item m-1"},r.a.createElement("button",{type:"button",onClick:this.showPageProperty,className:"dpm-login-btn-area",href:"#"},"Page Property"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 mb-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header bg-dark text-white"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 col-12"},"Page Property"),r.a.createElement("div",{className:"col-md-4 col-12"},"Current Value"))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-md-4 col-12 col-form-label"},"Page Name"),r.a.createElement("div",{className:"col-md-8 col-12"},r.a.createElement("input",{type:"text",name:"PageName",value:this.state.PageName,onChange:this.handleChange,className:"form-control"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-md-4 col-12 col-form-label"},"Page Display Name"),r.a.createElement("div",{className:"col-md-8 col-12"},r.a.createElement("input",{type:"text",name:"PageDisplayName",value:this.state.PageDisplayName,onChange:this.handleChange,className:"form-control"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-md-4 col-12 col-form-label"},"Description"),r.a.createElement("div",{className:"col-md-8 col-12"},r.a.createElement("textarea",{type:"text",name:"Discription",value:this.state.Discription,onChange:this.handleChange,className:"form-control"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-md-4 col-12"},"Searchable"),r.a.createElement("div",{className:"col-md-8 col-12"},r.a.createElement("div",{className:"form-check icheck-primary"},r.a.createElement("input",{id:"searchable",name:"searchable",className:"icheck-size",onChange:this.handleChangecheck,defaultChecked:this.state.searchable,type:"checkbox"})))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-md-4 col-12"},"Virtual"),r.a.createElement("div",{className:"col-md-8 col-12"},r.a.createElement("div",{className:"form-check icheck-primary"},r.a.createElement("input",{defaultChecked:this.state.virtual,className:"icheck-size",onChange:this.handleChangecheck,name:"virtual",type:"checkbox",id:"Virtual"}))))))),r.a.createElement("div",{className:"col-12 mb-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header bg-dark text-white"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 col-12"},"Custom Page Property"),r.a.createElement("div",{className:"col-md-4 col-12"},"Current Value"))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-md-4 col-12 col-form-label"},"Require Additional Details for Logged-Out User"),r.a.createElement("div",{className:"col-md-8 col-12 select-dropdown"},r.a.createElement("select",{className:"form-control select","ng-model":"vm.taxonomyManagement.customProperties[0].answer",name:"RequireAdditional"},r.a.createElement("option",{value:""},"Select One"),r.a.createElement("option",{label:"Yes",value:"6"},"Yes"),r.a.createElement("option",{label:"No",value:"7"},"No")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-md-4 col-12 col-form-label"},"Parent URL"),r.a.createElement("div",{className:"col-md-8 col-12"},r.a.createElement("input",{type:"text",name:"ParentURL","ng-model":"vm.taxonomyManagement.parentURL",className:"form-control"}))))))))),r.a.createElement(w.a,{show:o,onHide:this.setShowTable,dialogClassName:"modal-90w","aria-labelledby":"example-custom-modal-styling-title"},r.a.createElement(w.a.Header,{closeButton:!0},r.a.createElement(w.a.Title,{id:"example-custom-modal-styling-title"},"Page Properties")),r.a.createElement(w.a.Body,null,r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Time"),r.a.createElement("th",null,"User"),r.a.createElement("th",null,"Property"),r.a.createElement("th",null,"From Value"),r.a.createElement("th",null,"To Value"))),o&&r.a.createElement("tbody",null,this.getRowsData())))))}},{key:"setShow",value:function(){this.setState({show:!this.state.show})}},{key:"setShowTable",value:function(){this.setState({showTable:!this.state.showTable})}},{key:"login",value:function(){var e=this,a={username:this.state.Username,password:this.state.Password};this.itemService.login(a).then((function(a){void 0!=a&&null!=a.username?(window.localStorage.refreshToken=a.refreshToken,window.localStorage.token=a.accessToken,e.setState({showDetails:!0,showLogin:!1,showError:!1})):e.setState({showError:!0,showDetails:!1,showLogin:!0})}))}},{key:"chackToken",value:function(){var e=this;this.setState({open:!this.state.open}),this.itemService.validateToken().then((function(a){void 0!=a&&null!=a.username?(window.localStorage.refreshToken=a.refreshToken,window.localStorage.token=a.accessToken,e.setState({showDetails:!0,showLogin:!1})):e.setState({showDetails:!1,showLogin:!0})}))}},{key:"refreshToken",value:function(){var e=this;this.itemService.refreshToken().then((function(a){void 0!=a&&null!=a.username?(window.localStorage.refreshToken=a.refreshToken,window.localStorage.token=a.accessToken,e.setState({showDetails:!0,showLogin:!1})):e.setState({showDetails:!1,showLogin:!0})}))}},{key:"onPageOpen",value:function(){var e=this;this.itemService.pageProperty().then((function(a){a?(a.data.searchable&&e.setState({searchable:!0}),a.data.virtual&&e.setState({virtual:!0}),a.data.isVirtualPage&&e.setState({isVirtualPage:!0,showVirtualPage:!0}),e.setState({show:!0,PageName:a.data.nodeName,PageDisplayName:a.data.displayName,Discription:a.data.description,UUID:a.data.uuid})):e.setState({showDetails:!1,showLogin:!0})}))}},{key:"showPageProperty",value:function(){var e=this;this.itemService.getPageProperty(this.state.UUID).then((function(a){a&&(e.state.tableData=a.data.results,e.setState({showTable:!0}))}))}},{key:"updatePageProperty",value:function(){var e={displayName:this.state.PageDisplayName,description:this.state.Discription,searchable:this.state.searchable,virtual:this.state.virtual,uuid:this.state.UUID};this.itemService.updatePageProperty(e).then((function(e){e.data&&alert(e.message)}))}}]),t}(n.Component),k=function(e){return e.keys.map((function(a,t){return r.a.createElement("td",{key:e.data[a]},e.data[a])}))},y=b;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(y,null),document.getElementById("root123")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.a4a0f4c8.chunk.js.map